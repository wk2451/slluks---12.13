require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([5],{40:function(e,t,s){"use strict";var n=a(s(1)),o=a(s(41));function a(e){return e&&e.__esModule?e:{default:e}}new n.default(o.default).$mount()},41:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(43),o=s.n(n),a=s(44),i=!1;var r=function(e){i||s(42)},c=s(0)(o.a,a.a,r,null,null);c.options.__file="..\\..\\..\\..\\Documents\\HBuilderProjects\\SLLUKS\\pages\\myself\\myself.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] myself.vue: functional components are not supported with templates, they should use render functions."),t.default=c.exports},42:function(e,t){},43:function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,o=s(3);(n=o)&&n.__esModule;t.default={data:function(){return{user_image:"",is_login:!1}},components:{},methods:{islogin:function(){var t=this;wx.checkSession({success:function(){t.is_login=!0,t.user_image=e.getStorageSync("avatarUrl")},fail:function(){t.is_login=!1,t.getuserinfo()}})},getuserinfo:function(t){console.log(1111);var s=this;s.user_image=t.detail.userInfo.avatarUrl,console.log(s.user_image),e.setStorageSync("avatarUrl",t.detail.userInfo.avatarUrl),wx.login({success:function(n){wx.request({url:"https://www.slluks.com/index.php/app/member/wechatLogin",data:{code:n.code},success:function(n){console.log(2222);try{e.setStorageSync("sk",n.data.session_key),e.setStorageSync("openid",n.data.openid)}catch(e){}if(e.hideLoading(),!t.detail.iv)return e.showToast({title:"您取消了授权,登录失败",icon:"none"}),!1;try{var o=e.getStorageSync("sk");console.log(3333)}catch(e){}wx.request({method:"POST",url:"https://www.slluks.com/index.php/app/member/wechatRegister",header:{"content-type":"application/x-www-form-urlencoded"},data:{appid:"wxdfe1b8c60ee623a0",sessionKey:o,iv:t.detail.iv,encryptedData:t.detail.encryptedData},success:function(t){console.log(44444),"-41003"!=t.data&&(e.setStorageSync("uid",t.data),console.log(t.data),s.islogin())}})}})}})}},onLoad:function(e){this.islogin()},onPullDownRefresh:function(){},onReachBottom:function(){},onTabItemTap:function(){}}}).call(t,s(2).default)},44:function(e,t,s){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return this.is_login?t("view",{staticClass:"page"},[t("view",{staticClass:"userinfo"},[t("image",{attrs:{src:this.user_image,mode:"widthFix"}})]),t("view",{staticClass:"options"},[t("navigator",{staticClass:"option myorder",staticStyle:{background:"url('../../static/images/order.png') no-repeat 35% center","background-size":"auto 60%"},attrs:{url:"/pages/orderlist/orderlist","open-type":"navigate"}},[this._v("我的订单")]),t("navigator",{staticClass:"option myaddress",staticStyle:{background:"url('../../static/images/address.png') no-repeat 35% center","background-size":"auto 60%"},attrs:{url:"/pages/address/address","open-type":"navigate"}},[this._v("我的地址")])],1)]):t("view",{staticClass:"page"},[t("button",{staticClass:"getUserInfo",attrs:{type:"primary","open-type":"getUserInfo",withCredentials:"true",eventid:"cqU-0"},on:{getuserinfo:this.getuserinfo}},[this._v("用户登陆")])],1)};n._withStripped=!0;var o={render:n,staticRenderFns:[]};t.a=o}},[40]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/myself/myself.js.map